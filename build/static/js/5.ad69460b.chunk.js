(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{127:function(e,t,a){e.exports={Chats:"Chats_Chats__39dea",create:"Chats_create__OXN5O",list:"Chats_list__xbOHo",enter:"Chats_enter__3mTQz",enterActive:"Chats_enterActive__2k9I-",exit:"Chats_exit__2MsrV",exitActive:"Chats_exitActive__hfFrr",messages:"Chats_messages__2Q4v_"}},129:function(e,t,a){e.exports={ChatRow:"ChatRow_ChatRow__yk6k-",active:"ChatRow_active__1asSn",title:"ChatRow_title__2D0AZ",text:"ChatRow_text__1UeQB"}},131:function(e,t,a){e.exports={ChatUserRow:"ChatUserRow_ChatUserRow__1PBAX",create:"ChatUserRow_create__2j3IX"}},149:function(e,t,a){"use strict";a.r(t);var r=a(6),s=a(7),n=a(12),c=a(11),i=a(13),o=a(1),u=a.n(o),h=a(21),p=a(111),l=a(112),m=a(118),_=a(127),f=a.n(_),v=a(27),b=a(40),C=a.n(b),O=a(147),d=a(129),j=a.n(d),y=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"getTitle",value:function(){var e=this;return this.props.chat.is_private?this.props.chat.users.filter(function(t){return t.id!==e.props.user.id}).map(function(e){return e.name}).join(", "):this.props.chat.name}},{key:"render",value:function(){var e="/chats/".concat(this.props.chat.id),t=C()(j.a.ChatRow,Object(v.a)({},j.a.active,e===this.props.location));return u.a.createElement(O.a,{to:e,className:t},u.a.createElement("div",{className:j.a.title},this.getTitle()),this.renderMessage())}},{key:"renderMessage",value:function(){return this.props.chat.last_message?u.a.createElement("div",{className:j.a.text},this.props.chat.last_message.message):u.a.createElement("div",{className:j.a.text},"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439")}}]),t}(o.PureComponent),w=a(53),E=function(e){function t(){var e,a;Object(r.a)(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(a=Object(n.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).onCreate=function(){a.props.history.push("/chats")},a}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:f.a.Chats},u.a.createElement("div",{className:f.a.list},u.a.createElement(w.a,{onClick:this.onCreate,className:f.a.create},"\u041d\u043e\u0432\u044b\u0439 \u0447\u0430\u0442"),this.renderChats()),u.a.createElement(m.TransitionGroup,{className:f.a.messages,timeout:3e3},u.a.createElement(m.CSSTransition,{classNames:{enter:f.a.enter,enterActive:f.a.enterActive,exit:f.a.exit,exitActive:f.a.enterActive},timeout:2300},this.props.children)))}},{key:"renderChats",value:function(){var e=this;return this.props.chats.map(function(t){return u.a.createElement(y,{location:e.props.location,chat:t,user:e.props.user,key:t.id})})}}]),t}(o.PureComponent),k=a(60),x=a(36),P=a(131),N=a.n(P);function R(e){var t=e.user,a=e.onPressUser;return u.a.createElement("div",{className:N.a.ChatUserRow},u.a.createElement("span",null,t.name),u.a.createElement(w.a,{onClick:function(){a(t.id)},className:N.a.create},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"))}var U=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.renderList()}},{key:"renderList",value:function(){var e=this;return this.props.users.map(function(t){return u.a.createElement(R,{key:t.id,user:t,onPressUser:e.props.onPressUser})})}}]),t}(o.PureComponent),g=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return u.a.createElement(U,{users:this.props.users,onPressUser:this.props.onPressUser})}}]),t}(o.PureComponent),A=Object(h.c)(function(e){return{users:e.users}},function(e){return{onPressUser:function(t){e(Object(x.c)({id:t}))}}})(g),T=Object(k.b)(function(){return a.e(3).then(a.bind(null,148))}),I=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.user&&this.props.user.id?u.a.createElement(E,{user:this.props.user,chats:this.props.chats,history:this.props.history,location:this.props.location.pathname,parentPath:this.props.match.path},u.a.createElement(p.a,null,u.a.createElement(l.a,{exact:!0,path:"/chats",component:A}),u.a.createElement(l.a,{path:"/chats/:chatId",component:T}))):null}}]),t}(o.PureComponent);t.default=Object(h.c)(function(e){return{user:e.user,chats:e.chats}})(I)}}]);
//# sourceMappingURL=5.ad69460b.chunk.js.map